@{
    var appName = "Belge Denetleme";
}
<!doctype html>
<html lang="tr" data-bs-theme="light">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"] - @appName</title>

    <!-- Bootstrap 5 & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />

    <link href="~/css/site.css" rel="stylesheet" />
</head>
<body>
    <header class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-semibold" asp-controller="Docs" asp-action="Index">
                <i class="bi bi-file-earmark-check me-2"></i>@appName
            </a>

            <div class="ms-auto d-flex align-items-center gap-2">
                <button id="themeToggle" class="btn btn-primary-subtle btn-sm" type="button" title="Tema">
                    <i class="bi bi-moon-stars"></i>
                </button>
            </div>
        </div>
    </header>

    <main class="container my-4">
        @RenderBody()
    </main>

    <footer class="border-top py-3 small text-secondary">
        <div class="container d-flex justify-content-between">
            <span>© @DateTime.UtcNow.Year Kurumsal</span>
            <span>v1.0</span>
        </div>
    </footer>

    <!-- Toast container -->
    <div class="toast-container position-fixed top-0 end-0 p-3">
        <div id="appToast" class="toast align-items-center text-bg-danger border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body" id="appToastBody">Hata</div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Kapat"></button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Tema toggle (light/dark, kurumsal saydam renkler korunur)
        (function () {
            const key = "pref-theme";
            const html = document.documentElement;
            const saved = localStorage.getItem(key);
            if (saved) html.setAttribute("data-bs-theme", saved);

            document.getElementById("themeToggle")?.addEventListener("click", () => {
                const cur = html.getAttribute("data-bs-theme") === "dark" ? "light" : "dark";
                html.setAttribute("data-bs-theme", cur);
                localStorage.setItem(key, cur);
            });
        })();

        // Basit toast yardımcıları
        window.showToast = (msg, isDanger = true) => {
            const toastEl = document.getElementById('appToast');
            const body = document.getElementById('appToastBody');
            body.textContent = msg;
            toastEl.classList.toggle('text-bg-danger', isDanger);
            toastEl.classList.toggle('text-bg-success', !isDanger);
            bootstrap.Toast.getOrCreateInstance(toastEl, { delay: 4000 }).show();
        };
    </script>

    @RenderSection("Scripts", required: false)
</body>
</html>
